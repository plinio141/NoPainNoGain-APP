<h2>Buscar</h2>
<form [formGroup]="searchClientsForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="form-group col-md-6">
        <label for="city">Ciudad</label>
        <select formControlName="city" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.city.errors }" (change)="getAllOffices()">
          <option [value]="city.code" *ngFor="let city of cities"> {{city.name}}</option>
        </select>
        <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
          <div *ngIf="f.city.errors.required">El campo Ciudad es requerido</div>
        </div>
      </div>
      <div class="form-group col-md-6">
        <label for="office">Sede</label>
        <select formControlName="office" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.office.errors }">
          <option [value]="office.code" *ngFor="let office of offices"> {{office.name}}</option>
        </select>
        <div *ngIf="submitted && f.office.errors" class="invalid-feedback">
          <div *ngIf="f.office.errors.required">El campo Sede es requerido</div>
        </div>
      </div>
  </div>
  <div class="form-group text-center">
    <button [disabled]="loading" class="btn btn-primary">Bucar</button>
    <img width="30px" height="30px" *ngIf="loading" src="https://myaccount.wigan.gov.uk/web/Images/loader.gif"/>
  </div>
  <div *ngIf="error" class="alert alert-danger">{{error}}</div>
</form>
  <div class="row">
    <table mdbTable class="table">
      <thead>
        <tr>
          <th scope="col">Nombres</th>
          <th scope="col">Apellidos</th>
          <th scope="col">Correo</th>
        </tr>
      </thead>
      <tbody>
        <tr mdbTableCol *ngFor="let client of clients">
          <td scope="col">{{client.firstName}}</td>
          <td scope="col">{{client.lastName}}</td>
          <td scope="col">{{client.email}}</td>
        </tr>
      </tbody>
    </table>
  </div>